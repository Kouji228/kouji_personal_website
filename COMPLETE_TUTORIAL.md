# å€‹äººç¶²ç«™é–‹ç™¼å­¸ç¿’ç´€éŒ„

## ğŸ“š ç›®éŒ„

1. [å°ˆæ¡ˆæ¦‚è¿°èˆ‡å­¸ç¿’ç›®æ¨™](#å°ˆæ¡ˆæ¦‚è¿°èˆ‡å­¸ç¿’ç›®æ¨™)
2. [æŠ€è¡“æ£§åŸºç¤çŸ¥è­˜](#æŠ€è¡“æ£§åŸºç¤çŸ¥è­˜)
3. [å°ˆæ¡ˆæ¶æ§‹è¨­è¨ˆ](#å°ˆæ¡ˆæ¶æ§‹è¨­è¨ˆ)
4. [SEO å„ªåŒ–å­¸ç¿’èˆ‡å¯¦ä½œ](#seo-å„ªåŒ–å­¸ç¿’èˆ‡å¯¦ä½œ)
5. [å­—é«”ç³»çµ±å¯¦ä½œå­¸ç¿’](#å­—é«”ç³»çµ±å¯¦ä½œå­¸ç¿’)
6. [è¼‰å…¥ç•«é¢åŠŸèƒ½é–‹ç™¼](#è¼‰å…¥ç•«é¢åŠŸèƒ½é–‹ç™¼)
7. [å–®é å¼æ¶æ§‹è¨­è¨ˆå­¸ç¿’](#å–®é å¼æ¶æ§‹è¨­è¨ˆå­¸ç¿’)
8. [ScrollTrigger å‹•ç•«ç³»çµ±å­¸ç¿’](#scrolltrigger-å‹•ç•«ç³»çµ±å­¸ç¿’)
9. [è½‰å€èˆ‡æ·±é€£çµåŠŸèƒ½å¯¦ä½œ](#è½‰å€èˆ‡æ·±é€£çµåŠŸèƒ½å¯¦ä½œ)
10. [æ¸¬è©¦ç­–ç•¥å­¸ç¿’èˆ‡å¯¦ä½œ](#æ¸¬è©¦ç­–ç•¥å­¸ç¿’èˆ‡å¯¦ä½œ)
11. [Bug ä¿®å¾©èˆ‡å­¸ç¿’å¿ƒå¾—](#bug-ä¿®å¾©èˆ‡å­¸ç¿’å¿ƒå¾—)
12. [éƒ¨ç½²èˆ‡ç¶­è­·å­¸ç¿’](#éƒ¨ç½²èˆ‡ç¶­è­·å­¸ç¿’)

---

## å°ˆæ¡ˆæ¦‚è¿°èˆ‡å­¸ç¿’ç›®æ¨™

### ğŸ¯ å­¸ç¿’ç›®æ¨™

é€™å€‹å°ˆæ¡ˆæ˜¯æˆ‘å­¸ç¿’ç¾ä»£å‰ç«¯é–‹ç™¼æŠ€è¡“çš„å¯¦è¸ä½œå“ï¼Œä¸»è¦å­¸ç¿’ç›®æ¨™åŒ…æ‹¬ï¼š

- **æŒæ¡ Next.js 15**ï¼šå­¸ç¿’ App Routerã€Server Componentsã€Client Components ç­‰æ–°ç‰¹æ€§
- **æ·±å…¥ç†è§£ TypeScript**ï¼šåœ¨å¯¦éš›å°ˆæ¡ˆä¸­å­¸ç¿’å‹åˆ¥ç³»çµ±å’Œä»‹é¢è¨­è¨ˆ
- **å­¸ç¿’å‹•ç•«æŠ€è¡“**ï¼šæŒæ¡ GSAP å’Œ ScrollTrigger çš„é€²éšç”¨æ³•
- **SEO å„ªåŒ–å¯¦ä½œ**ï¼šå­¸ç¿’æœå°‹å¼•æ“å„ªåŒ–çš„å„ç¨®æŠ€è¡“å’Œæœ€ä½³å¯¦è¸
- **æ¸¬è©¦é©…å‹•é–‹ç™¼**ï¼šä½¿ç”¨ Playwright å­¸ç¿’ E2E æ¸¬è©¦çš„æ’°å¯«
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šæ·±å…¥ç†è§£ CSS Gridã€Flexbox å’Œåª’é«”æŸ¥è©¢

### ğŸ› ï¸ æŠ€è¡“æ£§å­¸ç¿’é‡é»

#### Next.js 15 å­¸ç¿’é‡é»

- **App Router**ï¼šæ–°çš„è·¯ç”±ç³»çµ±ï¼Œæ”¯æ´å·¢ç‹€è·¯ç”±å’Œä¸¦è¡Œæ¸²æŸ“
- **Server Components**ï¼šæœå‹™ç«¯æ¸²æŸ“çµ„ä»¶ï¼Œæå‡æ•ˆèƒ½
- **Client Components**ï¼šå®¢æˆ¶ç«¯äº’å‹•çµ„ä»¶ï¼Œä½¿ç”¨ 'use client' æŒ‡ä»¤
- **Middleware**ï¼šè«‹æ±‚æ””æˆªå’Œä¸­é–“ä»¶è™•ç†
- **API Routes**ï¼šå¾Œç«¯ API é–‹ç™¼

#### TypeScript å­¸ç¿’é‡é»

- **å‹åˆ¥å®šç¾©**ï¼šä»‹é¢ (Interface) å’Œå‹åˆ¥åˆ¥å (Type Alias)
- **æ³›å‹ (Generics)**ï¼šå¯é‡ç”¨çš„å‹åˆ¥çµ„ä»¶
- **è¯åˆå‹åˆ¥ (Union Types)**ï¼šå¤šç¨®å‹åˆ¥çš„çµ„åˆ
- **å‹åˆ¥å®ˆè¡› (Type Guards)**ï¼šé‹è¡Œæ™‚å‹åˆ¥æª¢æŸ¥

#### GSAP å‹•ç•«å­¸ç¿’é‡é»

- **Timeline**ï¼šè¤‡é›œå‹•ç•«åºåˆ—ç®¡ç†
- **ScrollTrigger**ï¼šæ»¾å‹•è§¸ç™¼å‹•ç•«
- **Easing Functions**ï¼šå‹•ç•«ç·©å‹•å‡½æ•¸
- **Performance Optimization**ï¼šå‹•ç•«æ•ˆèƒ½å„ªåŒ–

### ğŸ“š å­¸ç¿’è³‡æº

- [Next.js å®˜æ–¹æ–‡æª”](https://nextjs.org/docs)
- [TypeScript å®˜æ–¹æ‰‹å†Š](https://www.typescriptlang.org/docs/)
- [GSAP å­¸ç¿’ä¸­å¿ƒ](https://greensock.com/learning/)
- [MDN Web æ–‡æª”](https://developer.mozilla.org/)

---

## æŠ€è¡“æ£§åŸºç¤çŸ¥è­˜

### ğŸŒ Next.js 15 åŸºç¤æ¦‚å¿µ

#### App Router vs Pages Router

```typescript
// App Router (Next.js 13+) - æ–°æ¶æ§‹
app/
â”œâ”€â”€ layout.tsx          // æ ¹ä½ˆå±€
â”œâ”€â”€ page.tsx           // é¦–é 
â”œâ”€â”€ about/
â”‚   â””â”€â”€ page.tsx       // /about é é¢
â””â”€â”€ api/
    â””â”€â”€ users/
        â””â”€â”€ route.ts   // /api/users API

// Pages Router (èˆŠæ¶æ§‹)
pages/
â”œâ”€â”€ _app.tsx           // å…¨åŸŸ App çµ„ä»¶
â”œâ”€â”€ index.tsx          // é¦–é 
â”œâ”€â”€ about.tsx          // /about é é¢
â””â”€â”€ api/
    â””â”€â”€ users.ts       // /api/users API
```

#### Server Components vs Client Components

```typescript
// Server Component (é è¨­) - åœ¨æœå‹™ç«¯æ¸²æŸ“
async function ServerComponent() {
  const data = await fetch('https://api.example.com/data');
  return <div>{data.title}</div>;
}

// Client Component - åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“ï¼Œå¯äº’å‹•
('use client');
import { useState } from 'react';

function ClientComponent() {
  const [count, setCount] = useState(0);
  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}
```

### ğŸ“ TypeScript åŸºç¤æ¦‚å¿µ

#### å‹åˆ¥å®šç¾©

```typescript
// ä»‹é¢å®šç¾©
interface User {
  id: number;
  name: string;
  email?: string; // å¯é¸å±¬æ€§
}

// å‹åˆ¥åˆ¥å
type Status = 'loading' | 'success' | 'error';

// æ³›å‹
interface ApiResponse<T> {
  data: T;
  status: Status;
}

// è¯åˆå‹åˆ¥
type Theme = 'light' | 'dark';
```

#### å‹åˆ¥å®ˆè¡›

```typescript
function isString(value: unknown): value is string {
  return typeof value === 'string';
}

function processValue(value: string | number) {
  if (isString(value)) {
    // TypeScript çŸ¥é“é€™è£¡ value æ˜¯ string
    return value.toUpperCase();
  }
  return value.toString();
}
```

### ğŸ¨ CSS æ¨¡çµ„åŒ–æ¦‚å¿µ

#### CSS Modules vs å…¨åŸŸ CSS

```css
/* styles.module.css - CSS Modules */
.container {
  padding: 20px;
  background: #f5f5f5;
}

.title {
  font-size: 24px;
  color: #333;
}
```

```typescript
// åœ¨çµ„ä»¶ä¸­ä½¿ç”¨
import styles from './styles.module.css';

function Component() {
  return (
    <div className={styles.container}>
      <h1 className={styles.title}>æ¨™é¡Œ</h1>
    </div>
  );
}
```

### ğŸ¬ GSAP å‹•ç•«åŸºç¤

#### åŸºæœ¬å‹•ç•«

```typescript
import { gsap } from 'gsap';

// ç°¡å–®å‹•ç•«
gsap.to('.element', {
  x: 100,
  y: 50,
  duration: 1,
  ease: 'power2.out',
});

// æ™‚é–“è»¸å‹•ç•«
const tl = gsap.timeline();
tl.to('.element1', { x: 100, duration: 1 }).to(
  '.element2',
  { y: 50, duration: 1 },
  '-=0.5',
); // é‡ç–Š 0.5 ç§’
```

#### ScrollTrigger åŸºç¤

```typescript
import { ScrollTrigger } from 'gsap/ScrollTrigger';

gsap.registerPlugin(ScrollTrigger);

gsap.from('.element', {
  y: 100,
  opacity: 0,
  scrollTrigger: {
    trigger: '.element',
    start: 'top 80%',
    end: 'bottom 20%',
    toggleActions: 'play none none reverse',
  },
});
```

---

## å°ˆæ¡ˆæ¶æ§‹è¨­è¨ˆ

### ğŸ“ æª”æ¡ˆçµæ§‹

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx              # æ ¹ä½ˆå±€
â”‚   â”œâ”€â”€ page.tsx                # ä¸»é é¢ï¼ˆå–®é å¼ï¼‰
â”‚   â”œâ”€â”€ globals.css             # å…¨åŸŸæ¨£å¼
â”‚   â”œâ”€â”€ fonts.css               # å­—é«”å®šç¾©
â”‚   â”œâ”€â”€ [...slug]/route.ts      # å‹•æ…‹è·¯ç”±ï¼ˆè½‰å€åŠŸèƒ½ï¼‰
â”‚   â””â”€â”€ horizontal-cards/       # ç¤ºç¯„é é¢
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ gsap/                   # GSAP ç›¸é—œçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ GsapNav.tsx         # æ¡Œé¢å°èˆª
â”‚   â”‚   â”œâ”€â”€ GsapBottomTab.tsx   # æ‰‹æ©Ÿåº•éƒ¨å°èˆª
â”‚   â”‚   â””â”€â”€ useGsapSpy.ts       # ScrollTrigger ç›£æ§
â”‚   â”œâ”€â”€ LoadingScreen.tsx       # è¼‰å…¥ç•«é¢
â”‚   â”œâ”€â”€ StructuredData.tsx      # SEO çµæ§‹åŒ–æ•¸æ“š
â”‚   â””â”€â”€ HorizontalSnapCards.tsx # æ°´å¹³æ»¾å‹•å¡ç‰‡
â”œâ”€â”€ sections/                   # é é¢å€å¡Š
â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”œâ”€â”€ About.tsx
â”‚   â”œâ”€â”€ Projects.tsx
â”‚   â””â”€â”€ Contact.tsx
â”œâ”€â”€ hooks/                      # è‡ªå®šç¾© Hooks
â”‚   â”œâ”€â”€ useIsomorphicLayoutEffect.ts
â”‚   â””â”€â”€ useScrollTriggerRefresh.ts
â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•¸
â”‚   â””â”€â”€ scrollTriggerUtils.ts
â””â”€â”€ middleware.ts               # è½‰å€ä¸­é–“ä»¶
```

### ğŸ¨ è¨­è¨ˆç³»çµ±

#### CSS è®Šæ•¸å®šç¾©

```css
:root {
  /* é¡è‰²ç³»çµ± */
  --background: #ffffff;
  --foreground: #000000;
  --primary-color: #2c3e50;
  --secondary-color: #3498db;

  /* å­—é«”ç³»çµ± */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
    sans-serif;
  --font-accent: 'Junicode', 'Times New Roman', serif;
  --font-accent-condensed: 'Junicode Condensed', 'Times New Roman', serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;

  /* é–“è·ç³»çµ± */
  --nav-h: 72px; /* å°èˆªåˆ—é«˜åº¦ */
}
```

---

## SEO å„ªåŒ–å­¸ç¿’èˆ‡å¯¦ä½œ

### ğŸ” ä»€éº¼æ˜¯ SEOï¼Ÿ

SEO (Search Engine Optimization) æ˜¯æœå°‹å¼•æ“å„ªåŒ–ï¼Œç›®çš„æ˜¯è®“ç¶²ç«™åœ¨æœå°‹çµæœä¸­æ’åæ›´é«˜ã€‚ä¸»è¦åŒ…å«ï¼š

- **æŠ€è¡“ SEO**ï¼šç¶²ç«™çµæ§‹ã€è¼‰å…¥é€Ÿåº¦ã€è¡Œå‹•å‹å–„æ€§
- **å…§å®¹ SEO**ï¼šé—œéµå­—å„ªåŒ–ã€å…§å®¹å“è³ªã€çµæ§‹åŒ–æ•¸æ“š
- **å¤–éƒ¨ SEO**ï¼šåå‘é€£çµã€ç¤¾äº¤åª’é«”åˆ†äº«

### ğŸ“Š çµæ§‹åŒ–æ•¸æ“šå­¸ç¿’

#### ä»€éº¼æ˜¯çµæ§‹åŒ–æ•¸æ“šï¼Ÿ

çµæ§‹åŒ–æ•¸æ“šæ˜¯å‘Šè¨´æœå°‹å¼•æ“ç¶²é å…§å®¹å«ç¾©çš„æ¨™æº–åŒ–æ ¼å¼ï¼Œä½¿ç”¨ Schema.org è©å½™è¡¨ã€‚

#### å¸¸è¦‹çš„ Schema é¡å‹

```json
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "John Doe",
  "jobTitle": "Software Engineer",
  "url": "https://johndoe.com"
}
```

### ğŸ” çµæ§‹åŒ–æ•¸æ“šå¯¦ä½œ (StructuredData.tsx)

#### åŠŸèƒ½èªªæ˜

æä¾›ä¸‰ç¨® Schema.org çµæ§‹åŒ–æ•¸æ“šé¡å‹ï¼š

1. **Person Schema**ï¼šå€‹äººè³‡è¨Šå’Œè·æ¥­
2. **WebSite Schema**ï¼šç¶²ç«™è³‡è¨Šå’Œæœå°‹åŠŸèƒ½
3. **WebPage Schema**ï¼šé é¢è³‡è¨Šå’ŒéºµåŒ…å±‘

#### ä½¿ç”¨æ–¹å¼

```tsx
// åœ¨ page.tsx ä¸­ä½¿ç”¨
<StructuredData type='Person' data={{}} />
<StructuredData type='WebSite' data={{}} />
<StructuredData
  type='WebPage'
  data={{
    title: meta.title,
    description: meta.description,
    url: process.env.NEXT_PUBLIC_SITE_URL || 'https://kouji-song.dev',
  }}
/>
```

#### é…ç½®ç’°å¢ƒè®Šæ•¸

```env
# .env.local
NEXT_PUBLIC_SITE_URL=https://kouji-song.dev
GOOGLE_VERIFICATION=your-google-verification-code
YANDEX_VERIFICATION=your-yandex-verification-code
YAHOO_VERIFICATION=your-yahoo-verification-code
```

### ğŸ“Š SEO ç‰¹è‰²åŠŸèƒ½

#### 1. æ·±é€£çµ SEO å„ªåŒ–

```html
<!-- é¦–å±èªç¾©åŒ–å…§å®¹ -->
<div className="sr-only" aria-hidden="true">
  <h1>Kouji Song - Front-End Developer</h1>
  <p>æˆ‘æ˜¯å®‹å¹³æµ©ï¼ˆKouji Songï¼‰ï¼Œå‰ç«¯å·¥ç¨‹å¸«...</p>
  <nav aria-label="ä¸»è¦å°èˆª">
    <ul>
      <li><a href="#home">é¦–é </a></li>
      <li><a href="#about">é—œæ–¼æˆ‘</a></li>
      <li><a href="#projects">å°ˆæ¡ˆä½œå“</a></li>
      <li><a href="#contact">è¯çµ¡æˆ‘</a></li>
    </ul>
  </nav>
</div>
```

#### 2. robots.txt é…ç½®

```
User-agent: *
Allow: /
Allow: /#home
Allow: /#about
Allow: /#projects
Allow: /#contact
Disallow: /test-redirects
Disallow: /api/
Sitemap: https://kouji-song.dev/sitemap.xml
```

#### 3. è‡ªå‹•ç”Ÿæˆ Sitemap

```typescript
// app/sitemap.ts
export default function sitemap() {
  const baseUrl = 'https://kouji-song.dev';

  return [
    {
      url: baseUrl,
      lastModified: new Date(),
      changeFrequency: 'yearly',
      priority: 1,
    },
    {
      url: `${baseUrl}/#about`,
      lastModified: new Date(),
      changeFrequency: 'monthly',
      priority: 0.9,
    },
    // ... å…¶ä»–é é¢
  ];
}
```

---

## å­—é«”ç³»çµ±å¯¦ä½œå­¸ç¿’

### ğŸ¨ å­—é«”åŸºç¤çŸ¥è­˜

#### å­—é«”æ ¼å¼æ¯”è¼ƒ

- **WOFF2**ï¼šæœ€æ–°æ ¼å¼ï¼Œå£“ç¸®ç‡æœ€é«˜ï¼Œæ”¯æ´æœ€å¥½
- **WOFF**ï¼šè¼ƒèˆŠæ ¼å¼ï¼Œå»£æ³›æ”¯æ´
- **TTF/OTF**ï¼šåŸå§‹æ ¼å¼ï¼Œæª”æ¡ˆè¼ƒå¤§
- **EOT**ï¼šIE å°ˆç”¨æ ¼å¼ï¼Œå·²éæ™‚

#### å­—é«”è¼‰å…¥ç­–ç•¥

```css
@font-face {
  font-family: 'CustomFont';
  src: url('font.woff2') format('woff2'), url('font.woff') format('woff');
  font-display: swap; /* é—œéµï¼šé¿å…æ–‡å­—é–ƒçˆ */
  font-weight: 400;
  font-style: normal;
}
```

#### font-display å±¬æ€§èªªæ˜

- `auto`ï¼šç€è¦½å™¨é è¨­è¡Œç‚º
- `block`ï¼šéš±è—æ–‡å­—ç›´åˆ°å­—é«”è¼‰å…¥å®Œæˆ
- `swap`ï¼šç«‹å³é¡¯ç¤ºå‚™ç”¨å­—é«”ï¼Œå­—é«”è¼‰å…¥å¾Œæ›¿æ›
- `fallback`ï¼šçŸ­æš«éš±è—å¾Œé¡¯ç¤ºå‚™ç”¨å­—é«”
- `optional`ï¼šå­—é«”è¼‰å…¥å¤±æ•—æ™‚ä¸æ›¿æ›

### ğŸ¨ Junicode å­—é«”æ•´åˆå­¸ç¿’

#### å­—é«”æª”æ¡ˆçµæ§‹

```
public/fonts/
â”œâ”€â”€ junicode-regular-webfont.woff2
â”œâ”€â”€ junicode-bold-webfont.woff2
â”œâ”€â”€ junicode-italic-webfont.woff2
â”œâ”€â”€ junicode-bolditalic-webfont.woff2
â”œâ”€â”€ junicode-regularcondensed-webfont.woff2
â””â”€â”€ stylesheet.css
```

#### å­—é«”è¼‰å…¥ç­–ç•¥

```css
/* fonts.css */
@font-face {
  font-family: 'Junicode';
  src: url('/fonts/junicode-regular-webfont.woff2') format('woff2'), url('/fonts/junicode-regular-webfont.woff')
      format('woff');
  font-display: swap;
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: 'Junicode';
  src: url('/fonts/junicode-bold-webfont.woff2') format('woff2'), url('/fonts/junicode-bold-webfont.woff')
      format('woff');
  font-display: swap;
  font-weight: 700;
  font-style: normal;
}
```

#### å…¨åŸŸå­—é«”è¨­å®š

```css
/* globals.css */
/* å…¨åŸŸæ¨™é¡Œå­—é«”è¨­ç½® - å¼·åˆ¶æ‡‰ç”¨ Junicode */
h1,
h2,
h3,
h4,
h5,
h6,
.text-center h1,
.text-center h2,
.text-center h3,
.container h1,
.container h2,
.container h3,
section h1,
section h2,
section h3,
.mb-1x,
.mb-5 {
  font-family: 'Junicode', 'Times New Roman', serif !important;
  font-weight: 700 !important;
}

/* ç¢ºä¿é¦–é æ¨™é¡Œä½¿ç”¨ Junicode */
.introSec .text h1,
.introSec .text h2,
.introSec .text h3 {
  font-family: 'Junicode', 'Times New Roman', serif !important;
  font-weight: 700 !important;
}
```

---

## è¼‰å…¥ç•«é¢åŠŸèƒ½é–‹ç™¼

### âš¡ è¼‰å…¥ç•«é¢è¨­è¨ˆæ¦‚å¿µ

#### ç‚ºä»€éº¼éœ€è¦è¼‰å…¥ç•«é¢ï¼Ÿ

- **æå‡ç”¨æˆ¶é«”é©—**ï¼šé¿å…ç©ºç™½é é¢é€ æˆçš„ç„¦æ…®
- **å“ç‰Œå±•ç¤º**ï¼šåœ¨è¼‰å…¥æ™‚å±•ç¤ºå“ç‰Œå½¢è±¡
- **æŠ€è¡“éœ€æ±‚**ï¼šç­‰å¾…è³‡æºè¼‰å…¥å®Œæˆ
- **å‹•ç•«æ•ˆæœ**ï¼šå¢åŠ è¦–è¦ºå¸å¼•åŠ›

#### è¼‰å…¥ç•«é¢è¨­è¨ˆåŸå‰‡

- **ç°¡æ½”æ˜ç­**ï¼šé¿å…éæ–¼è¤‡é›œçš„å‹•ç•«
- **å¿«é€Ÿè¼‰å…¥**ï¼šè¼‰å…¥ç•«é¢æœ¬èº«è¦è¼•é‡
- **é€²åº¦æŒ‡ç¤º**ï¼šè®“ç”¨æˆ¶çŸ¥é“è¼‰å…¥é€²åº¦
- **å“ç‰Œä¸€è‡´æ€§**ï¼šç¬¦åˆæ•´é«”è¨­è¨ˆé¢¨æ ¼

### âš¡ LoadingScreen çµ„ä»¶å¯¦ä½œ

#### åŠŸèƒ½ç‰¹è‰²

- **æ—‹è½‰å‹•ç•«**ï¼šé›™å±¤åœ“åœˆæ—‹è½‰æ•ˆæœ
- **è„ˆè¡æ³¢ç´‹**ï¼šä¸‰å±¤æŸ”å’Œè„ˆè¡æ³¢ç´‹æ•ˆæœ
- **æ¼¸è®Šé€²åº¦æ¢**ï¼šå‹•æ…‹æ¼¸è®Šè‰²å½©é€²åº¦æ¢
- **è¼‰å…¥é»å‹•ç•«**ï¼šä¸‰å€‹è·³å‹•çš„è¼‰å…¥é»

#### ä½¿ç”¨æ–¹å¼

```tsx
import LoadingScreen from '../components/LoadingScreen';

function App() {
  const [isLoading, setIsLoading] = useState(true);

  const handleLoadingComplete = () => {
    setIsLoading(false);
  };

  return (
    <>
      {isLoading && <LoadingScreen onLoadingComplete={handleLoadingComplete} />}
      {/* å…¶ä»–å…§å®¹ */}
    </>
  );
}
```

#### å‹•ç•«æ™‚åº

1. **0-0.3s**ï¼šæ¨™é¡Œæ·¡å…¥
2. **0.3-0.6s**ï¼šå‰¯æ¨™é¡Œæ·¡å…¥
3. **0.6-0.9s**ï¼šé€²åº¦æ¢æ·¡å…¥
4. **0.9-1.2s**ï¼šè¼‰å…¥é»æ·¡å…¥
5. **2.5s+**ï¼šè¼‰å…¥å®Œæˆï¼Œæ·¡å‡ºæ•ˆæœ

---

## å–®é å¼æ¶æ§‹è¨­è¨ˆå­¸ç¿’

### ğŸ—ï¸ å–®é å¼æ‡‰ç”¨ (SPA) æ¦‚å¿µ

#### ä»€éº¼æ˜¯ SPAï¼Ÿ

å–®é å¼æ‡‰ç”¨æ˜¯æŒ‡æ•´å€‹æ‡‰ç”¨åªæœ‰ä¸€å€‹ HTML é é¢ï¼Œé€šé JavaScript å‹•æ…‹æ›´æ–°å…§å®¹ï¼Œè€Œä¸æ˜¯è¼‰å…¥æ–°çš„é é¢ã€‚

#### SPA çš„å„ªç¼ºé»

**å„ªé»ï¼š**

- æµæš¢çš„ç”¨æˆ¶é«”é©—ï¼Œç„¡é é¢é‡æ–°è¼‰å…¥
- æ›´å¿«çš„å°èˆªé€Ÿåº¦
- æ›´å¥½çš„å‹•ç•«æ•ˆæœ
- æ¸›å°‘ä¼ºæœå™¨è² è¼‰

**ç¼ºé»ï¼š**

- SEO è¼ƒå›°é›£ï¼ˆéœ€è¦é¡å¤–è™•ç†ï¼‰
- åˆå§‹è¼‰å…¥æ™‚é–“è¼ƒé•·
- ç€è¦½å™¨æ­·å²è¨˜éŒ„ç®¡ç†è¤‡é›œ
- è¨˜æ†¶é«”ä½¿ç”¨è¼ƒå¤š

#### æ·±é€£çµ (Deep Linking) æŒ‘æˆ°

åœ¨ SPA ä¸­ï¼Œæ‰€æœ‰å…§å®¹éƒ½åœ¨åŒä¸€é é¢ï¼Œéœ€è¦ç‰¹æ®Šè™•ç†ï¼š

- URL è®ŠåŒ–ä¸é‡æ–°è¼‰å…¥é é¢
- ç€è¦½å™¨å‰é€²/å¾Œé€€æŒ‰éˆ•
- ç›´æ¥è¨ªå•ç‰¹å®šå€å¡Šçš„é€£çµ
- SEO å‹å–„çš„ URL çµæ§‹

### ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆå­¸ç¿’

#### 1. GSAP æ’ä»¶ç®¡ç†

```typescript
// components/gsap-plugins.ts
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';
import { ScrollToPlugin } from 'gsap/ScrollToPlugin';

gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

export { gsap, ScrollTrigger, ScrollToPlugin };
```

#### 2. å¹³æ»‘æ»¾å‹•å°èˆª

```tsx
// components/GsapHashLink.tsx
const GsapHashLink = ({ href, children, offset = 72 }) => {
  const handleClick = (e) => {
    e.preventDefault();
    const targetId = href.replace('#', '');
    const targetElement = document.getElementById(targetId);

    if (targetElement) {
      gsap.to(window, {
        duration: 1.2,
        scrollTo: {
          y: targetElement,
          offsetY: offset,
        },
        ease: 'power2.inOut',
      });
    }
  };

  return (
    <a href={href} onClick={handleClick}>
      {children}
    </a>
  );
};
```

#### 3. Scroll Spy å°èˆªé«˜äº®

```typescript
// hooks/useGsapSpy.ts
export const useGsapSpy = (sections: string[]) => {
  const [activeSection, setActiveSection] = useState('');

  useEffect(() => {
    const ctx = gsap.context(() => {
      sections.forEach((section) => {
        ScrollTrigger.create({
          trigger: `#${section}`,
          start: 'top center',
          end: 'bottom center',
          onEnter: () => setActiveSection(section),
          onEnterBack: () => setActiveSection(section),
        });
      });
    });

    return () => ctx.revert();
  }, [sections]);

  return activeSection;
};
```

### ğŸ“± éŸ¿æ‡‰å¼å°èˆª

#### æ¡Œé¢å°èˆª (GsapNav.tsx)

```tsx
const GsapNav = () => {
  const activeSection = useGsapSpy(['home', 'about', 'projects', 'contact']);

  return (
    <nav className='desktop-nav'>
      <ul>
        {navItems.map((item) => (
          <li key={item.id}>
            <GsapHashLink
              href={`#${item.id}`}
              className={activeSection === item.id ? 'active' : ''}
            >
              {item.label}
            </GsapHashLink>
          </li>
        ))}
      </ul>
    </nav>
  );
};
```

#### æ‰‹æ©Ÿåº•éƒ¨å°èˆª (GsapBottomTab.tsx)

```tsx
const GsapBottomTab = () => {
  const activeSection = useGsapSpy(['home', 'about', 'projects', 'contact']);

  return (
    <div className='bottom-tab'>
      {navItems.map((item) => (
        <GsapHashLink
          key={item.id}
          href={`#${item.id}`}
          className={`tab-item ${activeSection === item.id ? 'active' : ''}`}
        >
          <span className='icon'>{item.icon}</span>
          <span className='label'>{item.label}</span>
        </GsapHashLink>
      ))}
    </div>
  );
};
```

---

## ScrollTrigger å‹•ç•«ç³»çµ±å­¸ç¿’

### ğŸ¬ å‹•ç•«åŸºç¤æ¦‚å¿µ

#### ä»€éº¼æ˜¯ ScrollTriggerï¼Ÿ

ScrollTrigger æ˜¯ GSAP çš„æ’ä»¶ï¼Œè®“å‹•ç•«å¯ä»¥æ ¹æ“šæ»¾å‹•ä½ç½®è§¸ç™¼ï¼Œæ˜¯ç¾ä»£ç¶²é å‹•ç•«çš„é‡è¦å·¥å…·ã€‚

#### å‹•ç•«è§¸ç™¼æ™‚æ©Ÿ

```typescript
scrollTrigger: {
  trigger: '.element',        // è§¸ç™¼å…ƒç´ 
  start: 'top center',        // é–‹å§‹è§¸ç™¼ä½ç½®
  end: 'bottom center',       // çµæŸè§¸ç™¼ä½ç½®
  toggleActions: 'play none none reverse' // è§¸ç™¼å‹•ä½œ
}
```

#### toggleActions èªªæ˜

- `play`ï¼šå‘ä¸‹æ»¾å‹•é€²å…¥æ™‚æ’­æ”¾
- `pause`ï¼šå‘ä¸‹æ»¾å‹•é›¢é–‹æ™‚æš«åœ
- `resume`ï¼šå‘ä¸Šæ»¾å‹•é‡æ–°é€²å…¥æ™‚æ¢å¾©
- `reverse`ï¼šå‘ä¸Šæ»¾å‹•é›¢é–‹æ™‚åå‘æ’­æ”¾
- `restart`ï¼šé‡æ–°é–‹å§‹æ’­æ”¾
- `none`ï¼šä¸åŸ·è¡Œä»»ä½•å‹•ä½œ

#### å‹•ç•«æ•ˆèƒ½å„ªåŒ–

- ä½¿ç”¨ `will-change` CSS å±¬æ€§
- é¿å…å‹•ç•«éå¤šå…ƒç´ 
- ä½¿ç”¨ `transform` å’Œ `opacity` å±¬æ€§
- åˆç†ä½¿ç”¨ `force3D: true`

### ğŸ¬ å‹•ç•«å·¥å…·é¡åˆ¥å­¸ç¿’

#### ScrollTriggerUtils æ ¸å¿ƒåŠŸèƒ½

```typescript
// utils/scrollTriggerUtils.ts
export class ScrollTriggerUtils {
  private static debounceTimer: NodeJS.Timeout | null = null;

  // é˜²æŠ– refreshï¼ˆæ¨è–¦ï¼‰
  static refreshDebounced(delay = 100) {
    if (this.debounceTimer) {
      clearTimeout(this.debounceTimer);
    }
    this.debounceTimer = setTimeout(() => {
      ScrollTrigger.refresh();
    }, delay);
  }

  // ç­‰å¾…åœ–ç‰‡è¼‰å…¥å¾Œ refresh
  static async refreshAfterImagesLoad(container?: HTMLElement) {
    const images = container
      ? container.querySelectorAll('img')
      : document.querySelectorAll('img');

    const promises = Array.from(images).map((img) => {
      return new Promise((resolve) => {
        if (img.complete) {
          resolve(img);
        } else {
          img.onload = () => resolve(img);
          img.onerror = () => resolve(img);
        }
      });
    });

    await Promise.all(promises);
    this.refreshDebounced();
  }

  // ç­‰å¾…å­—é«”è¼‰å…¥å¾Œ refresh
  static async refreshAfterFontsLoad() {
    if ('fonts' in document) {
      await document.fonts.ready;
    }
    this.refreshDebounced();
  }
}
```

#### React Hook æ•´åˆ

```typescript
// hooks/useScrollTriggerRefresh.ts
export const useScrollTriggerRefresh = (options = {}) => {
  const containerRef = useRef<HTMLElement>(null);

  const refresh = useCallback(() => {
    ScrollTriggerUtils.refreshImmediate();
  }, []);

  const refreshDebounced = useCallback(() => {
    ScrollTriggerUtils.refreshDebounced();
  }, []);

  const refreshAfterImages = useCallback(async () => {
    await ScrollTriggerUtils.refreshAfterImagesLoad(containerRef.current);
  }, []);

  const refreshAfterFonts = useCallback(async () => {
    await ScrollTriggerUtils.refreshAfterFontsLoad();
  }, []);

  return {
    refresh,
    refreshDebounced,
    refreshAfterImages,
    refreshAfterFonts,
  };
};
```

### ğŸ¨ Section å‹•ç•«ç¯„ä¾‹

```tsx
// sections/Projects.tsx
const Projects = () => {
  const cardsRef = useRef<HTMLDivElement>(null);
  const { refreshAfterImages } = useScrollTriggerRefresh();

  useEffect(() => {
    const ctx = gsap.context(() => {
      // å¡ç‰‡é€²å ´å‹•ç•«
      gsap.fromTo(
        '.project-card',
        {
          y: 50,
          opacity: 0,
        },
        {
          y: 0,
          opacity: 1,
          duration: 0.8,
          stagger: 0.2,
          scrollTrigger: {
            trigger: cardsRef.current,
            start: 'top 80%',
            once: true,
          },
        },
      );
    }, cardsRef);

    return () => ctx.revert();
  }, []);

  return (
    <section id='projects' ref={cardsRef}>
      <div className='project-cards'>
        {projects.map((project) => (
          <ProjectCard
            key={project.id}
            {...project}
            onImageLoad={refreshAfterImages}
          />
        ))}
      </div>
    </section>
  );
};
```

---

## è½‰å€èˆ‡æ·±é€£çµåŠŸèƒ½å¯¦ä½œ

### ğŸ”„ è½‰å€ç³»çµ±å­¸ç¿’

#### ä»€éº¼æ˜¯è½‰å€ï¼Ÿ

è½‰å€æ˜¯æŒ‡å°‡ä¸€å€‹ URL é‡æ–°å°å‘åˆ°å¦ä¸€å€‹ URL çš„æŠ€è¡“ï¼Œå¸¸ç”¨æ–¼ï¼š

- èˆŠç¶²å€é‡å®šå‘åˆ°æ–°ç¶²å€
- å–®é å¼æ‡‰ç”¨çš„è·¯ç”±è™•ç†
- SEO å‹å–„çš„ URL çµæ§‹

#### è½‰å€ç‹€æ…‹ç¢¼

- **301 æ°¸ä¹…é‡å®šå‘**ï¼šå‘Šè¨´æœå°‹å¼•æ“é€™æ˜¯æ°¸ä¹…æ€§è®Šæ›´
- **302 è‡¨æ™‚é‡å®šå‘**ï¼šå‘Šè¨´æœå°‹å¼•æ“é€™æ˜¯è‡¨æ™‚æ€§è®Šæ›´
- **307 è‡¨æ™‚é‡å®šå‘**ï¼šä¿æŒåŸå§‹ HTTP æ–¹æ³•
- **308 æ°¸ä¹…é‡å®šå‘**ï¼šä¿æŒåŸå§‹ HTTP æ–¹æ³•

#### Next.js è½‰å€æ–¹å¼

1. **Middleware è½‰å€**ï¼šåœ¨è«‹æ±‚è™•ç†å‰é€²è¡Œè½‰å€
2. **API Route è½‰å€**ï¼šåœ¨ API è·¯ç”±ä¸­é€²è¡Œè½‰å€
3. **é‡å¯« (Rewrite)**ï¼šå…§éƒ¨é‡å¯« URL è€Œä¸æ”¹è®Šç€è¦½å™¨åœ°å€

### ğŸ”„ è½‰å€ç³»çµ±å¯¦ä½œ

#### 1. Middleware è½‰å€

```typescript
// middleware.ts
import { NextRequest, NextResponse } from 'next/server';

const redirectMap: Record<string, string> = {
  '/about': '/#about',
  '/projects': '/#projects',
  '/project': '/#projects',
  '/contact': '/#contact',
};

export function middleware(request: NextRequest) {
  const { pathname } = request.nextUrl;

  if (redirectMap[pathname]) {
    const redirectUrl = new URL(redirectMap[pathname], request.url);
    return NextResponse.redirect(redirectUrl, { status: 301 });
  }

  return NextResponse.next();
}

export const config = {
  matcher: ['/about', '/projects', '/project', '/contact'],
};
```

#### 2. å‹•æ…‹è·¯ç”±è½‰å€

```typescript
// app/[...slug]/route.ts
const redirectMap: Record<string, string> = {
  about: '/#about',
  projects: '/#projects',
  project: '/#projects',
  contact: '/#contact',
};

export async function GET(
  request: Request,
  { params }: { params: Promise<{ slug: string[] }> },
) {
  const resolvedParams = await params;
  const slug = resolvedParams.slug[0];

  if (redirectMap[slug]) {
    const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'http://localhost:3000';
    return NextResponse.redirect(new URL(redirectMap[slug], baseUrl), {
      status: 301,
    });
  }

  return new NextResponse('Not Found', { status: 404 });
}
```

### ğŸ”— æ·±é€£çµæ»¾å‹•

```typescript
// page.tsx - åˆæ¬¡è¼‰å…¥ hash æª¢æŸ¥
useEffect(() => {
  const handleInitialHash = () => {
    if (typeof window === 'undefined') return;

    const hash = window.location.hash;
    if (hash) {
      const targetId = hash.replace('#', '');
      const targetElement = document.getElementById(targetId);

      if (targetElement) {
        setTimeout(() => {
          gsap.to(window, {
            duration: 1.2,
            scrollTo: {
              y: targetElement,
              offsetY: 72, // ä½¿ç”¨ --nav-h è®Šæ•¸å€¼
            },
            ease: 'power2.inOut',
          });
        }, 100);
      }
    }
  };

  handleInitialHash();

  if (document.readyState === 'loading') {
    window.addEventListener('load', handleInitialHash);
    return () => window.removeEventListener('load', handleInitialHash);
  }
}, []);
```

---

## æ¸¬è©¦ç­–ç•¥å­¸ç¿’èˆ‡å¯¦ä½œ

### ğŸ§ª æ¸¬è©¦åŸºç¤æ¦‚å¿µ

#### ç‚ºä»€éº¼éœ€è¦æ¸¬è©¦ï¼Ÿ

- **å“è³ªä¿è­‰**ï¼šç¢ºä¿ç¨‹å¼ç¢¼æŒ‰é æœŸå·¥ä½œ
- **å›æ­¸æ¸¬è©¦**ï¼šé¿å…æ–°åŠŸèƒ½ç ´å£ç¾æœ‰åŠŸèƒ½
- **æ–‡æª”ä½œç”¨**ï¼šæ¸¬è©¦æœ¬èº«å°±æ˜¯æ´»æ–‡æª”
- **é‡æ§‹ä¿¡å¿ƒ**ï¼šå®‰å…¨åœ°é‡æ§‹ç¨‹å¼ç¢¼
- **åœ˜éšŠå”ä½œ**ï¼šæ¸›å°‘ bug å’Œæºé€šæˆæœ¬

#### æ¸¬è©¦é‡‘å­—å¡”

```
    /\
   /  \     E2E Tests (å°‘é‡)
  /____\
 /      \   Integration Tests (é©é‡)
/________\
           Unit Tests (å¤§é‡)
```

#### æ¸¬è©¦é¡å‹

- **å–®å…ƒæ¸¬è©¦ (Unit Tests)**ï¼šæ¸¬è©¦å€‹åˆ¥å‡½æ•¸æˆ–çµ„ä»¶
- **æ•´åˆæ¸¬è©¦ (Integration Tests)**ï¼šæ¸¬è©¦å¤šå€‹çµ„ä»¶å”ä½œ
- **ç«¯åˆ°ç«¯æ¸¬è©¦ (E2E Tests)**ï¼šæ¸¬è©¦å®Œæ•´ç”¨æˆ¶æµç¨‹

### ğŸ§ª Playwright æ¸¬è©¦å­¸ç¿’

#### ä»€éº¼æ˜¯ Playwrightï¼Ÿ

Playwright æ˜¯å¾®è»Ÿé–‹ç™¼çš„ç«¯åˆ°ç«¯æ¸¬è©¦æ¡†æ¶ï¼Œæ”¯æ´å¤šç¨®ç€è¦½å™¨ï¼š

- Chromium (Chrome/Edge)
- Firefox
- WebKit (Safari)

#### Playwright å„ªå‹¢

- **è·¨ç€è¦½å™¨æ”¯æ´**ï¼šä¸€æ¬¡ç·¨å¯«ï¼Œå¤šç€è¦½å™¨é‹è¡Œ
- **è‡ªå‹•ç­‰å¾…**ï¼šæ™ºèƒ½ç­‰å¾…å…ƒç´ å‡ºç¾
- **èª¿è©¦å·¥å…·**ï¼šè±å¯Œçš„èª¿è©¦å’Œæˆªåœ–åŠŸèƒ½
- **ä¸¦è¡ŒåŸ·è¡Œ**ï¼šæ”¯æ´ä¸¦è¡Œæ¸¬è©¦åŸ·è¡Œ
- **TypeScript æ”¯æ´**ï¼šåŸç”Ÿ TypeScript æ”¯æ´

### ğŸ“š Playwright åŸºç¤èªæ³•è§£é‡‹

#### æ ¸å¿ƒæ¦‚å¿µç†è§£

**1. Test vs Test.describe**

```typescript
// test.describeï¼šæ¸¬è©¦ç¾¤çµ„ï¼Œç”¨æ–¼çµ„ç¹”ç›¸é—œçš„æ¸¬è©¦æ¡ˆä¾‹
test.describe('å°èˆªåŠŸèƒ½æ¸¬è©¦', () => {
  // testï¼šå–®å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œæ¸¬è©¦ç‰¹å®šçš„åŠŸèƒ½é»
  test('é»æ“Šå°èˆªé€£çµæ‡‰è©²è·³è½‰åˆ°å°æ‡‰é é¢', async ({ page }) => {
    // æ¸¬è©¦é‚è¼¯
  });
});
```

**2. Page Object æ¨¡å¼**

```typescript
// page æ˜¯ Playwright çš„æ ¸å¿ƒå°è±¡ï¼Œä»£è¡¨ç€è¦½å™¨é é¢
test('æ¸¬è©¦æ¡ˆä¾‹', async ({ page }) => {
  // page æä¾›çš„æ–¹æ³•ï¼š
  await page.goto('/'); // å°èˆªåˆ°æŒ‡å®š URL
  await page.click('button'); // é»æ“Šå…ƒç´ 
  await page.fill('input', 'text'); // å¡«å¯«è¡¨å–®
  await page.screenshot(); // æˆªåœ–
});
```

**3. Locator å…ƒç´ å®šä½**

```typescript
// Locator æ˜¯å…ƒç´ å®šä½å™¨ï¼Œç”¨æ–¼æ‰¾åˆ°é é¢ä¸Šçš„å…ƒç´ 
const element = page.getByTestId('button-id'); // é€šé data-testid å®šä½
const element2 = page.locator('.css-class'); // é€šé CSS é¸æ“‡å™¨å®šä½
const element3 = page.getByRole('button'); // é€šéè§’è‰²å®šä½

// Locator æ˜¯æ‡¶åŠ è¼‰çš„ï¼Œåªæœ‰ç•¶è¢«ä½¿ç”¨æ™‚æ‰æœƒçœŸæ­£æŸ¥æ‰¾å…ƒç´ 
await element.click(); // é€™æ™‚æ‰æœƒåœ¨é é¢ä¸ŠæŸ¥æ‰¾å…ƒç´ 
```

**4. Expect æ–·è¨€ç³»çµ±**

```typescript
// expect ç”¨æ–¼é©—è­‰æ¸¬è©¦çµæœæ˜¯å¦ç¬¦åˆé æœŸ
await expect(element).toBeVisible(); // å…ƒç´ å¯è¦‹
await expect(element).toBeHidden(); // å…ƒç´ éš±è—
await expect(element).toHaveText('æ–‡å­—'); // å…ƒç´ åŒ…å«ç‰¹å®šæ–‡å­—
await expect(element).toHaveClass('class'); // å…ƒç´ æœ‰ç‰¹å®š CSS é¡
await expect(page).toHaveURL('/about'); // é é¢ URL ç¬¦åˆé æœŸ
```

#### å¸¸ç”¨ API è©³ç´°èªªæ˜

**1. é é¢å°èˆª**

```typescript
// åŸºæœ¬å°èˆª
await page.goto('https://example.com'); // å°èˆªåˆ°æŒ‡å®š URL
await page.goto('/relative-path'); // ç›¸å°è·¯å¾‘å°èˆª
await page.goto('/#section'); // å¸¶ hash çš„ URL

// ç­‰å¾…é é¢è¼‰å…¥å®Œæˆ
await page.waitForLoadState('networkidle'); // ç­‰å¾…ç¶²è·¯æ´»å‹•åœæ­¢
await page.waitForLoadState('domcontentloaded'); // ç­‰å¾… DOM è¼‰å…¥å®Œæˆ
await page.waitForLoadState('load'); // ç­‰å¾…æ‰€æœ‰è³‡æºè¼‰å…¥å®Œæˆ
```

**2. å…ƒç´ æŸ¥æ‰¾æ–¹æ³•**

```typescript
// é€šé data-testid å±¬æ€§ï¼ˆæ¨è–¦æ–¹å¼ï¼‰
const element = page.getByTestId('unique-id');

// é€šéæ–‡å­—å…§å®¹
const button = page.getByRole('button', { name: 'æäº¤' });
const heading = page.getByRole('heading', { name: 'æ¨™é¡Œ' });

// é€šé CSS é¸æ“‡å™¨
const card = page.locator('.card');
const input = page.locator('input[type="email"]');

// é€šé XPath
const title = page.locator('//h1[contains(@class, "title")]');

// çµ„åˆæŸ¥æ‰¾
const submitBtn = page.locator('form').getByRole('button', { name: 'æäº¤' });
```

**3. å…ƒç´ äº’å‹•æ“ä½œ**

```typescript
// é»æ“Šæ“ä½œ
await element.click(); // å·¦éµé»æ“Š
await element.click({ button: 'right' }); // å³éµé»æ“Š
await element.dblclick(); // é›™æ“Š

// æ–‡å­—è¼¸å…¥
await input.fill('æ–‡å­—å…§å®¹'); // æ¸…ç©ºä¸¦å¡«å…¥æ–‡å­—
await input.type('é€å­—è¼¸å…¥'); // é€å­—è¼¸å…¥ï¼ˆæ¨¡æ“¬çœŸå¯¦æ‰“å­—ï¼‰
await input.press('Enter'); // æŒ‰ä¸‹ç‰¹å®šæŒ‰éµ

// æ‹–æ‹½æ“ä½œ
await element.dragTo(targetElement); // æ‹–æ‹½åˆ°ç›®æ¨™å…ƒç´ 
await element.dragTo(targetElement, {
  // æ‹–æ‹½åˆ°ç‰¹å®šä½ç½®
  targetPosition: { x: 100, y: 200 },
});

// æ‡¸åœæ“ä½œ
await element.hover(); // æ»‘é¼ æ‡¸åœ
await element.hover({ position: { x: 10, y: 20 } }); // æ‡¸åœåˆ°ç‰¹å®šä½ç½®
```

**4. ç­‰å¾…ç­–ç•¥**

```typescript
// æ™ºèƒ½ç­‰å¾…ï¼ˆæ¨è–¦ï¼‰
await expect(element).toBeVisible(); // ç­‰å¾…å…ƒç´ å¯è¦‹
await expect(element).toBeHidden(); // ç­‰å¾…å…ƒç´ éš±è—
await expect(element).toHaveText('æ–‡å­—'); // ç­‰å¾…å…ƒç´ åŒ…å«æ–‡å­—

// å›ºå®šæ™‚é–“ç­‰å¾…
await page.waitForTimeout(2000); // ç­‰å¾… 2 ç§’

// æ¢ä»¶ç­‰å¾…
await page.waitForFunction(() => {
  return document.querySelector('.loading') === null;
}); // ç­‰å¾…è¼‰å…¥å‹•ç•«æ¶ˆå¤±

// ç­‰å¾… URL è®ŠåŒ–
await page.waitForURL('**/about'); // ç­‰å¾… URL åŒ…å« /about
```

**5. æ–·è¨€æ–¹æ³•è©³è§£**

```typescript
// å¯è¦‹æ€§æ–·è¨€
await expect(element).toBeVisible(); // å…ƒç´ å¯è¦‹
await expect(element).toBeHidden(); // å…ƒç´ éš±è—
await expect(element).toBeAttached(); // å…ƒç´ å­˜åœ¨æ–¼ DOM ä¸­
await expect(element).toBeDetached(); // å…ƒç´ ä¸å­˜åœ¨æ–¼ DOM ä¸­

// æ–‡å­—å…§å®¹æ–·è¨€
await expect(element).toHaveText('ç²¾ç¢ºæ–‡å­—'); // å®Œå…¨åŒ¹é…
await expect(element).toContainText('åŒ…å«æ–‡å­—'); // åŒ…å«æ–‡å­—
await expect(element).toHaveValue('input çš„å€¼'); // input å…ƒç´ çš„å€¼

// å±¬æ€§æ–·è¨€
await expect(element).toHaveAttribute('href', '/about'); // å±¬æ€§å€¼
await expect(element).toHaveClass('active'); // CSS é¡
await expect(element).toHaveCSS('color', 'rgb(255, 0, 0)'); // CSS æ¨£å¼

// é é¢ç‹€æ…‹æ–·è¨€
await expect(page).toHaveURL('/about'); // URL åŒ¹é…
await expect(page).toHaveTitle('é é¢æ¨™é¡Œ'); // é é¢æ¨™é¡Œ
await expect(page).toHaveScreenshot('screenshot.png'); // æˆªåœ–æ¯”è¼ƒ
```

**6. è¦–çª—å’Œè¦–å£æ“ä½œ**

```typescript
// è¦–å£å¤§å°è¨­å®š
await page.setViewportSize({ width: 1280, height: 720 });

// æ»¾å‹•æ“ä½œ
await page.evaluate(() => {
  window.scrollTo(0, 1000); // æ»¾å‹•åˆ°æŒ‡å®šä½ç½®
});

await page.evaluate(() => {
  document.getElementById('section').scrollIntoView(); // æ»¾å‹•åˆ°å…ƒç´ 
});

// éµç›¤æ“ä½œ
await page.keyboard.press('Enter'); // æŒ‰ä¸‹ Enter éµ
await page.keyboard.type('Hello World'); // è¼¸å…¥æ–‡å­—
await page.keyboard.down('Shift'); // æŒ‰ä½ Shift éµ
await page.keyboard.up('Shift'); // é‡‹æ”¾ Shift éµ
```

**7. æˆªåœ–å’Œèª¿è©¦**

```typescript
// æˆªåœ–åŠŸèƒ½
await page.screenshot({ path: 'screenshot.png' }); // å…¨é æˆªåœ–
await element.screenshot({ path: 'element.png' }); // å…ƒç´ æˆªåœ–
await page.screenshot({ path: 'full.png', fullPage: true }); // å®Œæ•´é é¢æˆªåœ–

// èª¿è©¦åŠŸèƒ½
await page.pause(); // æš«åœæ¸¬è©¦ï¼Œé€²å…¥èª¿è©¦æ¨¡å¼
console.log(await element.textContent()); // è¼¸å‡ºå…ƒç´ æ–‡å­—å…§å®¹
console.log(await page.url()); // è¼¸å‡ºç•¶å‰ URL
```

### ğŸ§ª Playwright æ¸¬è©¦å¯¦ä½œ

#### æ¸¬è©¦æª”æ¡ˆçµæ§‹

```
tests/
â”œâ”€â”€ navigation.spec.ts           # ä¸»è¦å°èˆªåŠŸèƒ½æ¸¬è©¦
â”œâ”€â”€ responsive-navigation.spec.ts # éŸ¿æ‡‰å¼å°èˆªæ¸¬è©¦
â”œâ”€â”€ scroll-trigger.spec.ts      # ScrollTrigger åŠŸèƒ½æ¸¬è©¦
â”œâ”€â”€ loading-screen.spec.ts      # è¼‰å…¥ç•«é¢æ¸¬è©¦
â”œâ”€â”€ puzzle-game.spec.ts         # æ‹¼åœ–éŠæˆ²æ¸¬è©¦
â”œâ”€â”€ animations.spec.ts          # å‹•ç•«æ•ˆæœæ¸¬è©¦
â”œâ”€â”€ projects-display.spec.ts    # å°ˆæ¡ˆå±•ç¤ºæ¸¬è©¦
â””â”€â”€ integration.spec.ts         # æ•´åˆæ¸¬è©¦
```

#### Playwright æ¸¬è©¦åŸºç¤åšæ³•

**1. åŸºæœ¬æ¸¬è©¦çµæ§‹**

```typescript
import { test, expect } from '@playwright/test';

test.describe('åŠŸèƒ½æ¸¬è©¦ç¾¤çµ„', () => {
  test.beforeEach(async ({ page }) => {
    // æ¯å€‹æ¸¬è©¦å‰çš„æº–å‚™å·¥ä½œ
    await page.goto('/');
    await page.waitForLoadState('networkidle');
    await page.waitForTimeout(3000); // ç­‰å¾…è¼‰å…¥ç•«é¢å®Œæˆ
  });

  test('æ¸¬è©¦æ¡ˆä¾‹æè¿°', async ({ page }) => {
    // æ¸¬è©¦æ­¥é©Ÿ
    const element = page.getByTestId('element-id');
    await expect(element).toBeVisible();
  });
});
```

**2. å…ƒç´ é¸æ“‡ç­–ç•¥**

```typescript
// ä½¿ç”¨ data-testid å±¬æ€§ï¼ˆæ¨è–¦ï¼‰
const element = page.getByTestId('nav-link-home');

// ä½¿ç”¨æ–‡å­—å…§å®¹
const button = page.getByRole('button', { name: 'è¼‰å…¥æ›´å¤š' });

// ä½¿ç”¨ CSS é¸æ“‡å™¨
const cards = page.locator('.project-card');

// ä½¿ç”¨ XPath
const title = page.locator('//h1[contains(text(), "æ¨™é¡Œ")]');
```

**3. ç­‰å¾…ç­–ç•¥**

```typescript
// ç­‰å¾…ç¶²è·¯æ´»å‹•åœæ­¢
await page.waitForLoadState('networkidle');

// ç­‰å¾…å…ƒç´ å¯è¦‹
await expect(element).toBeVisible();

// ç­‰å¾…ç‰¹å®šæ™‚é–“
await page.waitForTimeout(2000);

// ç­‰å¾… URL è®ŠåŒ–
await expect(page).toHaveURL(/#about$/);
```

**4. æ–·è¨€ (Assertions)**

```typescript
// å¯è¦‹æ€§æª¢æŸ¥
await expect(element).toBeVisible();
await expect(element).toBeHidden();

// æ–‡å­—å…§å®¹æª¢æŸ¥
await expect(element).toContainText('é æœŸæ–‡å­—');

// CSS é¡åˆ¥æª¢æŸ¥
await expect(element).toHaveClass(/active/);

// URL æª¢æŸ¥
await expect(page).toHaveURL(/#about$/);

// å…ƒç´ æ•¸é‡æª¢æŸ¥
const count = await elements.count();
expect(count).toBeGreaterThan(0);
```

**5. äº’å‹•æ“ä½œ**

```typescript
// é»æ“Š
await element.click();

// è¼¸å…¥æ–‡å­—
await input.fill('æ–‡å­—å…§å®¹');

// æ‹–æ‹½
await element.dragTo(targetElement, {
  targetPosition: { x: 50, y: 50 },
});

// æ‡¸åœ
await element.hover();

// æ»¾å‹•
await page.evaluate(() => {
  document.getElementById('section').scrollIntoView();
});
```

**6. éŸ¿æ‡‰å¼æ¸¬è©¦**

```typescript
// è¨­å®šè¦–çª—å¤§å°
await page.setViewportSize({ width: 375, height: 667 });

// æ¸¬è©¦ä¸åŒè£ç½®
test('æ‰‹æ©Ÿç‰ˆæ¸¬è©¦', async ({ page }) => {
  await page.setViewportSize({ width: 375, height: 667 });
  // æ¸¬è©¦é‚è¼¯
});
```

**7. æ¸¬è©¦é…ç½®**

```typescript
// playwright.config.ts
export default defineConfig({
  testDir: './tests',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
  },
  projects: [
    { name: 'chromium', use: { ...devices['Desktop Chrome'] } },
    { name: 'firefox', use: { ...devices['Desktop Firefox'] } },
    { name: 'webkit', use: { ...devices['Desktop Safari'] } },
  ],
});
```

#### å°èˆªåŠŸèƒ½æ¸¬è©¦

```typescript
// tests/navigation.spec.ts
import { test, expect } from '@playwright/test';

test.describe('å°èˆªåŠŸèƒ½', () => {
  test('é€²å…¥é¦–é æ™‚å°è¦½é«˜äº® HOME', async ({ page }) => {
    await page.goto('/');
    await page.waitForLoadState('networkidle');

    const homeLink = page.getByTestId('nav-link-home');
    await expect(homeLink).toHaveClass(/active/);
  });

  test('é»æ“Š ABOUT å°è¦½ â†’ URL è®Šç‚º /#aboutï¼Œä¸” about å…§å®¹å¯è¦‹', async ({
    page,
  }) => {
    await page.goto('/');
    await page.waitForLoadState('networkidle');

    const aboutLink = page.getByTestId('nav-link-about');
    await aboutLink.click();

    await expect(page).toHaveURL(/#about/);

    const aboutSection = page.locator('#about');
    await expect(aboutSection).toBeVisible();
  });
});
```

#### éŸ¿æ‡‰å¼æ¸¬è©¦

```typescript
// tests/responsive-navigation.spec.ts
test.describe('éŸ¿æ‡‰å¼å°èˆª', () => {
  test('æ¡Œé¢ç‰ˆ (>= 992px) é¡¯ç¤ºæ¡Œé¢å°èˆªï¼Œéš±è—åº•éƒ¨å°èˆª', async ({ page }) => {
    await page.setViewportSize({ width: 1200, height: 800 });
    await page.goto('/');

    const desktopNav = page.locator('.desktop-nav');
    const bottomTab = page.locator('.bottom-tab');

    await expect(desktopNav).toBeVisible();
    await expect(bottomTab).toBeHidden();
  });

  test('æ‰‹æ©Ÿç‰ˆ (< 768px) éš±è—æ¡Œé¢å°èˆªï¼Œé¡¯ç¤ºåº•éƒ¨å°èˆª', async ({ page }) => {
    await page.setViewportSize({ width: 375, height: 667 });
    await page.goto('/');

    const desktopNav = page.locator('.desktop-nav');
    const bottomTab = page.locator('.bottom-tab');

    await expect(desktopNav).toBeHidden();
    await expect(bottomTab).toBeVisible();
  });
});
```

#### ScrollTrigger æ¸¬è©¦

```typescript
// tests/scroll-trigger.spec.ts
test.describe('ScrollTrigger åŠŸèƒ½', () => {
  test('æ»¾å‹•æ™‚å°èˆªé«˜äº®æ­£ç¢ºæ›´æ–°', async ({ page }) => {
    await page.goto('/');
    await page.waitForLoadState('networkidle');

    // æ»¾å‹•åˆ° About å€å¡Š
    await page.evaluate(() => {
      document.getElementById('about')?.scrollIntoView();
    });

    await page.waitForTimeout(500);

    const aboutLink = page.getByTestId('nav-link-about');
    await expect(aboutLink).toHaveClass(/active/);
  });
});
```

### ğŸš€ é‹è¡Œæ¸¬è©¦

```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
npm run test

# ä½¿ç”¨ UI æ¨¡å¼é‹è¡Œæ¸¬è©¦ï¼ˆè¦–è¦ºåŒ–ç•Œé¢ï¼‰
npm run test:ui

# èª¿è©¦æ¨¡å¼ï¼ˆé€æ­¥åŸ·è¡Œï¼‰
npm run test:debug

# ç‰¹å®šç€è¦½å™¨æ¸¬è©¦
npx playwright test --project=chromium
npx playwright test --project=firefox
npx playwright test --project=webkit

# é‹è¡Œç‰¹å®šæ¸¬è©¦æª”æ¡ˆ
npx playwright test navigation.spec.ts

# é‹è¡Œç‰¹å®šæ¸¬è©¦æ¡ˆä¾‹
npx playwright test -g "å°èˆªåŠŸèƒ½"

# ç”Ÿæˆæ¸¬è©¦å ±å‘Š
npx playwright show-report

# æ¸…ç†æ¸¬è©¦çµæœ
rm -rf test-results/ playwright-report/

# å®‰è£ç€è¦½å™¨
npx playwright install

# æª¢æŸ¥æ¸¬è©¦é…ç½®
npx playwright test --list
```

### ğŸ“Š æ¸¬è©¦æœ€ä½³å¯¦è¸

**1. æ¸¬è©¦å‘½åè¦ç¯„**

```typescript
// âœ… å¥½çš„æ¸¬è©¦å‘½å
test('é»æ“Š ABOUT å°è¦½ â†’ URL è®Šç‚º /#aboutï¼Œä¸” about å…§å®¹å¯è¦‹', async ({
  page,
}) => {
  // æ¸¬è©¦é‚è¼¯
});

// âŒ ä¸å¥½çš„æ¸¬è©¦å‘½å
test('test1', async ({ page }) => {
  // æ¸¬è©¦é‚è¼¯
});
```

**2. æ¸¬è©¦è³‡æ–™éš”é›¢**

```typescript
test.describe('åŠŸèƒ½æ¸¬è©¦ç¾¤çµ„', () => {
  test.beforeEach(async ({ page }) => {
    // æ¯å€‹æ¸¬è©¦å‰é‡ç½®ç‹€æ…‹
    await page.goto('/');
    await page.waitForLoadState('networkidle');
    await page.waitForTimeout(3000);
  });
});
```

**3. ç­‰å¾…ç­–ç•¥é¸æ“‡**

```typescript
// âœ… å„ªå…ˆä½¿ç”¨æ™ºèƒ½ç­‰å¾…
await expect(element).toBeVisible();

// âœ… å¿…è¦æ™‚ä½¿ç”¨å›ºå®šç­‰å¾…
await page.waitForTimeout(2000);

// âŒ é¿å…éåº¦ä½¿ç”¨å›ºå®šç­‰å¾…
await page.waitForTimeout(10000); // å¤ªé•·
```

**4. éŒ¯èª¤è™•ç†**

```typescript
test('æ¸¬è©¦æ¡ˆä¾‹', async ({ page }) => {
  try {
    await page.goto('/');
    await expect(page.getByTestId('element')).toBeVisible();
  } catch (error) {
    console.error('æ¸¬è©¦å¤±æ•—:', error);
    throw error;
  }
});
```

---

## Bug ä¿®å¾©èˆ‡å­¸ç¿’å¿ƒå¾—

### ğŸ› å¸¸è¦‹å•é¡Œèˆ‡å­¸ç¿’éç¨‹

#### å­¸ç¿’éç¨‹ä¸­çš„æŒ‘æˆ°

åœ¨é–‹ç™¼éç¨‹ä¸­é‡åˆ°è¨±å¤šå•é¡Œï¼Œæ¯å€‹å•é¡Œéƒ½æ˜¯å­¸ç¿’çš„æ©Ÿæœƒï¼š

1. **CSS Module èªæ³•éŒ¯èª¤**ï¼šå­¸ç¿’ CSS æ¨¡çµ„åŒ–çš„æ­£ç¢ºä½¿ç”¨æ–¹å¼
2. **Hydration Mismatch**ï¼šç†è§£æœå‹™ç«¯æ¸²æŸ“å’Œå®¢æˆ¶ç«¯æ¸²æŸ“çš„å·®ç•°
3. **Next.js 15 å‹•æ…‹ API**ï¼šå­¸ç¿’æ–°ç‰ˆæœ¬ API çš„è®ŠåŒ–
4. **ScrollTrigger ç”Ÿå‘½é€±æœŸ**ï¼šæŒæ¡å‹•ç•«çš„è¨˜æ†¶é«”ç®¡ç†
5. **TypeScript å‹åˆ¥éŒ¯èª¤**ï¼šæå‡å‹åˆ¥ç³»çµ±çš„ç†è§£

#### å•é¡Œè§£æ±ºçš„å¿ƒæ…‹

- **ä¸è¦å®³æ€•éŒ¯èª¤**ï¼šéŒ¯èª¤æ˜¯å­¸ç¿’çš„æœ€ä½³æ©Ÿæœƒ
- **é–±è®€éŒ¯èª¤è¨Šæ¯**ï¼šä»”ç´°åˆ†æéŒ¯èª¤è¨Šæ¯ï¼Œé€šå¸¸æœƒæŒ‡å‘è§£æ±ºæ–¹å‘
- **æŸ¥é–±å®˜æ–¹æ–‡æª”**ï¼šå®˜æ–¹æ–‡æª”æ˜¯æœ€æº–ç¢ºçš„è³‡è¨Šä¾†æº
- **æœå°‹ç¤¾ç¾¤è¨è«–**ï¼šGitHub Issuesã€Stack Overflow ç­‰
- **é€æ­¥é™¤éŒ¯**ï¼šä½¿ç”¨ console.log å’Œæ–·é»é™¤éŒ¯

### ğŸ› å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆå­¸ç¿’

#### 1. CSS Module èªæ³•éŒ¯èª¤

**å•é¡Œ**ï¼šåœ¨ CSS Module ä¸­ä½¿ç”¨å…¨åŸŸé¸æ“‡å™¨

```css
/* âŒ éŒ¯èª¤ï¼šåœ¨ CSS Module ä¸­ä½¿ç”¨å…¨åŸŸé¸æ“‡å™¨ */
body {
  margin: 0;
}
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼šå°‡å…¨åŸŸæ¨£å¼ç§»è‡³ `globals.css`

```css
/* âœ… æ­£ç¢ºï¼šåœ¨ globals.css ä¸­å®šç¾©å…¨åŸŸæ¨£å¼ */
body {
  margin: 0;
}
```

#### 2. Hydration Mismatch éŒ¯èª¤

**å•é¡Œ**ï¼šæœå‹™ç«¯æ¸²æŸ“å’Œå®¢æˆ¶ç«¯æ¸²æŸ“å…§å®¹ä¸åŒ¹é…

```typescript
// âŒ éŒ¯èª¤ï¼šä½¿ç”¨ç€è¦½å™¨ API
const url = typeof window !== 'undefined' ? window.location.href : '';
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼šä½¿ç”¨ç’°å¢ƒè®Šæ•¸å’Œå®¢æˆ¶ç«¯æ¢ä»¶æ¸²æŸ“

```typescript
// âœ… æ­£ç¢ºï¼šä½¿ç”¨ç’°å¢ƒè®Šæ•¸
const url = process.env.NEXT_PUBLIC_SITE_URL || 'https://example.com';

// âœ… æ­£ç¢ºï¼šå®¢æˆ¶ç«¯æ¢ä»¶æ¸²æŸ“
const [isClient, setIsClient] = useState(false);

useEffect(() => {
  setIsClient(true);
}, []);

return isClient ? <Component /> : null;
```

#### 3. Next.js 15 å‹•æ…‹ API éŒ¯èª¤

**å•é¡Œ**ï¼šNext.js 15 è¦æ±‚ await `params`

```typescript
// âŒ éŒ¯èª¤ï¼šç›´æ¥ä½¿ç”¨ params
export async function GET(
  request: Request,
  { params }: { params: { slug: string[] } },
) {
  const slug = params.slug[0]; // æœƒå ±éŒ¯
}
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼šä½¿ç”¨ await params

```typescript
// âœ… æ­£ç¢ºï¼šawait params
export async function GET(
  request: Request,
  { params }: { params: Promise<{ slug: string[] }> },
) {
  const resolvedParams = await params;
  const slug = resolvedParams.slug[0];
}
```

### ğŸ“‹ æœ€ä½³å¯¦è¸

#### 1. CSS Module ä½¿ç”¨

```css
/* âœ… æ­£ç¢ºï¼šåªä½¿ç”¨å±€éƒ¨é¸æ“‡å™¨ */
.localClass {
  color: red;
}

/* âŒ éŒ¯èª¤ï¼šä½¿ç”¨å…¨åŸŸé¸æ“‡å™¨ */
body {
  margin: 0;
}
```

#### 2. é¿å… Hydration Mismatch

```typescript
// âœ… æ­£ç¢ºï¼šä½¿ç”¨ useState æ§åˆ¶æ¸²æŸ“
const [isClient, setIsClient] = useState(false);

useEffect(() => {
  setIsClient(true);
}, []);

return isClient ? <Component /> : null;
```

#### 3. ScrollTrigger ç”Ÿå‘½é€±æœŸç®¡ç†

```typescript
// âœ… æ­£ç¢ºï¼šä½¿ç”¨ gsap.context() ç®¡ç†å‹•ç•«
useEffect(() => {
  const ctx = gsap.context(() => {
    // å‹•ç•«ä»£ç¢¼
  }, containerRef);

  return () => ctx.revert();
}, []);
```

---

## éƒ¨ç½²èˆ‡ç¶­è­·å­¸ç¿’

### ğŸš€ éƒ¨ç½²åŸºç¤æ¦‚å¿µ

#### ä»€éº¼æ˜¯éƒ¨ç½²ï¼Ÿ

éƒ¨ç½²æ˜¯å°‡é–‹ç™¼å®Œæˆçš„æ‡‰ç”¨ç¨‹å¼ç™¼å¸ƒåˆ°ç”Ÿç”¢ç’°å¢ƒï¼Œè®“ç”¨æˆ¶å¯ä»¥è¨ªå•çš„éç¨‹ã€‚

#### éƒ¨ç½²æ–¹å¼æ¯”è¼ƒ

- **éœæ…‹éƒ¨ç½²**ï¼šå°‡å»ºç½®å¾Œçš„éœæ…‹æª”æ¡ˆéƒ¨ç½²åˆ° CDN
- **ä¼ºæœå™¨éƒ¨ç½²**ï¼šéƒ¨ç½²åˆ°ä¼ºæœå™¨ï¼Œæ”¯æ´ SSR
- **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šä½¿ç”¨ Docker å®¹å™¨éƒ¨ç½²
- **é›²ç«¯å¹³å°éƒ¨ç½²**ï¼šä½¿ç”¨ Vercelã€Netlify ç­‰å¹³å°

#### éƒ¨ç½²æµç¨‹

1. **å»ºç½® (Build)**ï¼šå°‡åŸå§‹ç¢¼ç·¨è­¯æˆå¯åŸ·è¡Œçš„æª”æ¡ˆ
2. **æ¸¬è©¦ (Test)**ï¼šé‹è¡Œæ¸¬è©¦ç¢ºä¿å“è³ª
3. **éƒ¨ç½² (Deploy)**ï¼šå°‡æª”æ¡ˆä¸Šå‚³åˆ°ç”Ÿç”¢ç’°å¢ƒ
4. **ç›£æ§ (Monitor)**ï¼šç›£æ§æ‡‰ç”¨ç¨‹å¼é‹è¡Œç‹€æ…‹

### ğŸš€ éƒ¨ç½²æº–å‚™å­¸ç¿’

#### 1. ç’°å¢ƒè®Šæ•¸è¨­å®š

```env
# .env.production
NEXT_PUBLIC_SITE_URL=https://kouji-song.dev
NEXT_PUBLIC_BASE_URL=https://kouji-song.dev
GOOGLE_VERIFICATION=your-google-verification-code
YANDEX_VERIFICATION=your-yandex-verification-code
YAHOO_VERIFICATION=your-yahoo-verification-code
```

#### 2. å»ºç½®æª¢æŸ¥

```bash
# æª¢æŸ¥å»ºç½®æ˜¯å¦æˆåŠŸ
npm run build

# æª¢æŸ¥ TypeScript é¡å‹
npm run type-check

# æª¢æŸ¥ ESLint
npm run lint

# é‹è¡Œæ¸¬è©¦
npm run test
```

### ğŸ“Š ç›£æ§èˆ‡åˆ†æ

#### 1. SEO ç›£æ§

- Google Search Console æäº¤ sitemap
- ç›£æ§æœå°‹æ’åè®ŠåŒ–
- æª¢æŸ¥çµæ§‹åŒ–æ•¸æ“šæœ‰æ•ˆæ€§

#### 2. æ•ˆèƒ½ç›£æ§

- Google PageSpeed Insights
- GTmetrix æ•ˆèƒ½æ¸¬è©¦
- Lighthouse SEO è©•åˆ†

#### 3. ç”¨æˆ¶é«”é©—ç›£æ§

- Google Analytics è¿½è¹¤æµé‡
- ç¤¾äº¤åª’é«”åˆ†äº«è¿½è¹¤
- é é¢è¼‰å…¥é€Ÿåº¦ç›£æ§

### ğŸ”§ ç¶­è­·å»ºè­°

#### 1. å®šæœŸæ›´æ–°

- ä¿æŒ Next.js å’Œä¾è³´å¥—ä»¶æœ€æ–°
- å®šæœŸæ›´æ–°å…§å®¹å’Œå°ˆæ¡ˆä½œå“
- ç›£æ§æœå°‹æ’åè®ŠåŒ–

#### 2. æ•ˆèƒ½å„ªåŒ–

- æŒçºŒå„ªåŒ–åœ–ç‰‡å’Œç¨‹å¼ç¢¼
- ç›£æ§ Core Web Vitals
- å„ªåŒ–è¼‰å…¥é€Ÿåº¦

#### 3. å…§å®¹ç¶­è­·

- å®šæœŸæ›´æ–°å€‹äººè³‡è¨Š
- æ·»åŠ æ–°çš„å°ˆæ¡ˆä½œå“
- æ›´æ–°æŠ€èƒ½å’Œç¶“é©—

---

## ğŸ¯ å­¸ç¿’ç¸½çµèˆ‡å¿ƒå¾—

### ğŸ“š å­¸ç¿’æˆæœ

é€šéé€™å€‹å°ˆæ¡ˆï¼Œæˆ‘æ·±å…¥å­¸ç¿’äº†ç¾ä»£å‰ç«¯é–‹ç™¼çš„æ ¸å¿ƒæŠ€è¡“ï¼š

1. **Next.js 15 æ·±åº¦å­¸ç¿’**ï¼šæŒæ¡äº† App Routerã€Server/Client Components ç­‰æ–°ç‰¹æ€§
2. **TypeScript å¯¦æˆ°æ‡‰ç”¨**ï¼šåœ¨å¯¦éš›å°ˆæ¡ˆä¸­å­¸ç¿’å‹åˆ¥ç³»çµ±å’Œä»‹é¢è¨­è¨ˆ
3. **å‹•ç•«æŠ€è¡“æŒæ¡**ï¼šæ·±å…¥ç†è§£ GSAP å’Œ ScrollTrigger çš„é€²éšç”¨æ³•
4. **SEO å„ªåŒ–å¯¦ä½œ**ï¼šå­¸ç¿’æœå°‹å¼•æ“å„ªåŒ–çš„å„ç¨®æŠ€è¡“å’Œæœ€ä½³å¯¦è¸
5. **æ¸¬è©¦é©…å‹•é–‹ç™¼**ï¼šä½¿ç”¨ Playwright å­¸ç¿’ E2E æ¸¬è©¦çš„æ’°å¯«
6. **éŸ¿æ‡‰å¼è¨­è¨ˆç²¾é€š**ï¼šæ·±å…¥ç†è§£ CSS Gridã€Flexbox å’Œåª’é«”æŸ¥è©¢

### ğŸ’¡ å­¸ç¿’å¿ƒå¾—

#### æŠ€è¡“å­¸ç¿’å¿ƒå¾—

- **ç†è«–èˆ‡å¯¦è¸çµåˆ**ï¼šå…‰çœ‹æ–‡æª”ä¸å¤ ï¼Œå¿…é ˆå‹•æ‰‹å¯¦ä½œæ‰èƒ½çœŸæ­£ç†è§£
- **å•é¡Œè§£æ±ºèƒ½åŠ›**ï¼šé‡åˆ°éŒ¯èª¤ä¸è¦æ…Œå¼µï¼Œä»”ç´°åˆ†æéŒ¯èª¤è¨Šæ¯
- **æŒçºŒå­¸ç¿’**ï¼šæŠ€è¡“æ›´æ–°å¾ˆå¿«ï¼Œè¦ä¿æŒå­¸ç¿’çš„ç†±å¿±
- **ç¤¾ç¾¤è³‡æº**ï¼šå–„ç”¨ GitHubã€Stack Overflow ç­‰ç¤¾ç¾¤è³‡æº

#### å°ˆæ¡ˆç®¡ç†å¿ƒå¾—

- **ç‰ˆæœ¬æ§åˆ¶**ï¼šä½¿ç”¨ Git é€²è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œè¨˜éŒ„æ¯å€‹éšæ®µçš„è®ŠåŒ–
- **æ–‡æª”è¨˜éŒ„**ï¼šè©³ç´°è¨˜éŒ„å­¸ç¿’éç¨‹å’Œè§£æ±ºæ–¹æ¡ˆ
- **æ¸¬è©¦é©…å‹•**ï¼šå…ˆå¯«æ¸¬è©¦å†å¯«åŠŸèƒ½ï¼Œç¢ºä¿ç¨‹å¼ç¢¼å“è³ª
- **æ¼¸é€²å¼é–‹ç™¼**ï¼šä¸è¦ä¸€æ¬¡åšå¤ªå¤šï¼Œé€æ­¥å®Œå–„åŠŸèƒ½

### ğŸš€ æœªä¾†å­¸ç¿’æ–¹å‘

1. **æ•ˆèƒ½å„ªåŒ–**ï¼šæ·±å…¥å­¸ç¿’ Core Web Vitals å’Œæ•ˆèƒ½å„ªåŒ–æŠ€å·§
2. **ç„¡éšœç¤™è¨­è¨ˆ**ï¼šå­¸ç¿’ WCAG æŒ‡å—å’Œç„¡éšœç¤™è¨­è¨ˆåŸå‰‡
3. **PWA æŠ€è¡“**ï¼šå­¸ç¿’ Progressive Web App é–‹ç™¼
4. **å¾®å‰ç«¯æ¶æ§‹**ï¼šäº†è§£å¾®å‰ç«¯æ¶æ§‹çš„è¨­è¨ˆæ¨¡å¼
5. **é›²ç«¯æœå‹™**ï¼šå­¸ç¿’ AWSã€Azure ç­‰é›²ç«¯æœå‹™çš„ä½¿ç”¨

### ğŸ“– æ¨è–¦å­¸ç¿’è³‡æº

- [Next.js å®˜æ–¹æ–‡æª”](https://nextjs.org/docs)
- [TypeScript å®˜æ–¹æ‰‹å†Š](https://www.typescriptlang.org/docs/)
- [GSAP å­¸ç¿’ä¸­å¿ƒ](https://greensock.com/learning/)
- [MDN Web æ–‡æª”](https://developer.mozilla.org/)
- [Web.dev å­¸ç¿’è³‡æº](https://web.dev/)

---

## ğŸ“š åƒè€ƒè³‡æº

### å®˜æ–¹æ–‡æª”

- [Next.js å®˜æ–¹æ–‡æª”](https://nextjs.org/docs)
- [TypeScript å®˜æ–¹æ‰‹å†Š](https://www.typescriptlang.org/docs/)
- [GSAP å®˜æ–¹æ–‡æª”](https://greensock.com/docs/)
- [Playwright å®˜æ–¹æ–‡æª”](https://playwright.dev/)
- [Schema.org çµæ§‹åŒ–æ•¸æ“š](https://schema.org/)

### å­¸ç¿’è³‡æº

- [MDN Web æ–‡æª”](https://developer.mozilla.org/)
- [Web.dev å­¸ç¿’è³‡æº](https://web.dev/)
- [CSS-Tricks](https://css-tricks.com/)
- [Smashing Magazine](https://www.smashingmagazine.com/)
- [A List Apart](https://alistapart.com/)

### ç¤¾ç¾¤è³‡æº

- [GitHub](https://github.com/)
- [Stack Overflow](https://stackoverflow.com/)
- [Reddit r/webdev](https://www.reddit.com/r/webdev/)
- [Dev.to](https://dev.to/)
- [Medium](https://medium.com/)

---

_æœ€å¾Œæ›´æ–°ï¼š2025 å¹´ 1 æœˆ_

---

## ğŸ“ å­¸ç¿’ç­†è¨˜

é€™ä»½æ–‡æª”è¨˜éŒ„äº†æˆ‘å­¸ç¿’ç¾ä»£å‰ç«¯é–‹ç™¼æŠ€è¡“çš„å®Œæ•´éç¨‹ï¼Œå¾åŸºç¤æ¦‚å¿µåˆ°å¯¦éš›æ‡‰ç”¨ï¼Œå¾å•é¡Œè§£æ±ºåˆ°æœ€ä½³å¯¦è¸ã€‚å¸Œæœ›é€™ä»½å­¸ç¿’ç´€éŒ„èƒ½å¹«åŠ©å…¶ä»–å­¸ç¿’è€…ï¼Œä¹Ÿä½œç‚ºæˆ‘è‡ªå·±æœªä¾†å›é¡§å’Œåƒè€ƒçš„è³‡æ–™ã€‚

**å­¸ç¿’æ˜¯ä¸€å€‹æŒçºŒçš„éç¨‹ï¼ŒæŠ€è¡“åœ¨ä¸æ–·æ›´æ–°ï¼Œä½†å­¸ç¿’çš„æ–¹æ³•å’Œå¿ƒæ…‹æ˜¯ç›¸é€šçš„ã€‚ä¿æŒå¥½å¥‡å¿ƒï¼Œå‹‡æ–¼å˜—è©¦ï¼Œå¾éŒ¯èª¤ä¸­å­¸ç¿’ï¼Œé€™æ˜¯æˆ‘åœ¨é€™å€‹å°ˆæ¡ˆä¸­æœ€å¤§çš„æ”¶ç©«ã€‚**
